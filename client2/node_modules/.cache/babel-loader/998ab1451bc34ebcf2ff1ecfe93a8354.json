{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport AddCart from \"./AddCart\";\nimport AddQty from \"./AddQty\";\nimport Banner from \"./Banner\";\nimport SelectSize from \"./SelectSize\";\nimport SelectColor from \"./SelectColor\";\nimport { useLocation } from \"react-router\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ViewProduct(props) {\n  _s();\n\n  let [prod_id, setProdId] = useState([props.prod_id]);\n  let [prod_color_id, setProdColorId] = useState([props.prod_color_id]);\n  let [prod_list, setList] = useState([]);\n  let [prod_name, setProdName] = useState([]);\n  let [size, setSize] = useState([]);\n  let [amount, setAmount] = useState([]);\n  let [color, setColor] = useState([props.color]);\n  let [cust_id, setCustId] = useState([]);\n  let [prod_price, setProdPrice] = useState([]); // use location hook to get the prod_id\n  // ex: \"/viewproduct/P001-Bl\"\n  // ex: \"/viewproduct/P001-Black\"\n\n  let location = useLocation();\n  console.log(location.pathname.split(\"/\")[2]);\n  prod_color_id = location.pathname.split(\"/\")[2];\n  prod_id = prod_color_id.split(\"-\")[1]; // color = prod_color_id.split(\"-\")[2]; //\"BL\"\n\n  const loadList = async () => {\n    try {\n      const resp = await fetch(`http://localhost:5000/getProduct/${prod_color_id}`); // const resp = await fetch(`http://localhost:5000/getProduct/P001`);\n\n      const jsonData = await resp.json();\n      setList(jsonData);\n      console.log(\"Response\", resp);\n      console.log(\"List: \", prod_list);\n    } catch (err) {\n      console.error(err.message);\n    }\n  }; // const insertCart = async (e) => {\n  //   e.preventDefault();\n  //   try {\n  //     console.log(prod_id, color, size, amount);\n  //     const bodyStr = { prod_id, color, size, amount };\n  //     const resp = await fetch(\"http://localhost:4000/insertCart\", {\n  //       method: \"POST\",\n  //       headers: { \"content-type\": \"application/json\" },\n  //       body: JSON.stringify(bodyStr),\n  //     });\n  //     window.location = \"/cart\";\n  //   } catch (err) {\n  //     console.error(err.message);\n  //   }\n  // };\n\n\n  useEffect(() => {\n    console.log(\"Enter useEffect\");\n    loadList();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false) // <div className=\"container\">\n  //   {/* Featured Product start */}\n  //   <section className=\"single-product\">\n  //     <div className=\"container\">\n  //       {/* <form onSubmit={insertCart}> */}\n  //       <form>\n  //         {prod_list.map((prod) => {\n  //           // const prodLink = \"/viewproduct/\" + prod.prod_color_id;\n  //           // console.log(prodLink);\n  //           // setProdId(prod.prod_id); ERROR\n  //           return (\n  //             <>\n  //               <div className=\"row\">\n  //                 {/* image of shirt section */}\n  //                 <div className=\"col-sm-4\">\n  //                   <div className=\"product-item\">\n  //                     <figure className=\"product-thumb\">\n  //                       <img src={prod.image_url} alt=\"image shirt\" width=\"100%\" height=\"100%\"/>\n  //                       {/* <img src={prod.image_url} /> */}\n  //                     </figure>\n  //                     <div className=\"product-content\">\n  //                       <div className=\"ratings\">\n  //                         <a href=\"#\">\n  //                           <i className=\"ti-star\" />\n  //                         </a>\n  //                         <a href=\"#\">\n  //                           <i className=\"ti-star\" />\n  //                         </a>\n  //                         <a href=\"#\">\n  //                           <i className=\"ti-star\" />\n  //                         </a>\n  //                         <a href=\"#\">\n  //                           <i className=\"ti-star\" />\n  //                         </a>\n  //                         <a href=\"#\">\n  //                           <i className=\"ti-star\" />\n  //                         </a>\n  //                       </div>\n  //                       {/* <p className=\"price text-danger\">฿{prod.prod_price}</p> */}\n  //                     </div>\n  //                   </div>\n  //                 </div>\n  //                 {/* Detail section */}\n  //                 <div className=\"col-sm-6 text-left ml-5\">\n  //                   <div className=\"\">\n  //                     <h1 className=\"\">{prod.prod_name}</h1>\n  //                   </div>\n  //                   <div className=\"\">\n  //                     <h5 className=\"prod_id\">Product ID: {prod.prod_id}</h5>\n  //                     {/* <h5 className=\"color\">Color: {prod.color}</h5> */}\n  //                     <div\n  //                       className=\"form-group quantity\"\n  //                       onChange={(e) => {\n  //                         setColor(e.target.value);\n  //                       }}\n  //                     >\n  //                       <label\n  //                         className=\"font-weight-bold h5 mr-3\"\n  //                         htmlFor=\"price\"\n  //                       >\n  //                         Color:\n  //                       </label>\n  //                       <SelectColor prod_id={prod.prod_id} color={color} />\n  //                       {/* <SelectSize /> */}\n  //                     </div>\n  //                     {/* <h5 className=\"size\">\n  //                       Size: <SelectSize onChange={(e) => {\n  //                           setSize(e.target.value);\n  //                         }}/>\n  //                     </h5> */}\n  //                     <div\n  //                       className=\"form-group quantity\"\n  //                       onChange={(e) => {\n  //                         setSize(e.target.value);\n  //                       }}\n  //                     >\n  //                       <label\n  //                         className=\"font-weight-bold h5 mr-3\"\n  //                         htmlFor=\"price\"\n  //                       >\n  //                         Size:\n  //                       </label>\n  //                       <SelectSize prod_id={prod.prod_id} color={color} prod_color_id={prod.prod_color_id} />\n  //                       {/* <SelectSize /> */}\n  //                     </div>\n  //                     {/* <h5 className=\"quantity\">\n  //                       QTY: <AddQty />\n  //                     </h5> */}\n  //                     <div className=\"form-group quantity\">\n  //                       <label\n  //                         className=\"font-weight-bold h5\"\n  //                         htmlFor=\"price\"\n  //                       >\n  //                         Quantity:\n  //                       </label>\n  //                       {/* <h5 className=\"quantity d-inline\">Quantity</h5> */}\n  //                       <input\n  //                         type=\"number\"\n  //                         className=\"form-control d-inline\"\n  //                         placeholder=\"Quantity\"\n  //                         id=\"qty\"\n  //                         onChange={(e) => {\n  //                           setAmount(e.target.value);\n  //                         }}\n  //                       />\n  //                     </div>\n  //                     <h2 className=\"price text-danger\">\n  //                       ฿{prod.prod_price}\n  //                     </h2>\n  //                   </div>\n  //                   {/* <button href=\"#\" className=\"btn btn-success text-center\">\n  //                     Add to cart\n  //                   </button> */}\n  //                   <AddCart\n  //                     prod_id={prod.prod_id}\n  //                     color={color}\n  //                     size={size}\n  //                     sale_amount={amount}\n  //                     prod_price={prod.prod_price}\n  //                   />\n  //                 </div>\n  //               </div>\n  //             </>\n  //           );\n  //         })}\n  //       </form>\n  //     </div>\n  //   </section>\n  //   {/* Featured Product end */}\n  // </div>\n  ;\n}\n\n_s(ViewProduct, \"JU/TT2cUAg1ML6v794NUdlcQahM=\", false, function () {\n  return [useLocation];\n});\n\n_c = ViewProduct;\n\nvar _c;\n\n$RefreshReg$(_c, \"ViewProduct\");","map":{"version":3,"sources":["D:/year3-1/DBMS/APP G4/nodeApp/buu_t_shirt/client2/src/components/ViewProduct.js"],"names":["React","useEffect","useState","AddCart","AddQty","Banner","SelectSize","SelectColor","useLocation","ViewProduct","props","prod_id","setProdId","prod_color_id","setProdColorId","prod_list","setList","prod_name","setProdName","size","setSize","amount","setAmount","color","setColor","cust_id","setCustId","prod_price","setProdPrice","location","console","log","pathname","split","loadList","resp","fetch","jsonData","json","err","error","message"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,SAASC,WAAT,QAA4B,cAA5B;;;AAEA,eAAe,SAASC,WAAT,CAAqBC,KAArB,EAA4B;AAAA;;AACzC,MAAI,CAACC,OAAD,EAAUC,SAAV,IAAuBV,QAAQ,CAAC,CAACQ,KAAK,CAACC,OAAP,CAAD,CAAnC;AACA,MAAI,CAACE,aAAD,EAAgBC,cAAhB,IAAkCZ,QAAQ,CAAC,CAACQ,KAAK,CAACG,aAAP,CAAD,CAA9C;AACA,MAAI,CAACE,SAAD,EAAYC,OAAZ,IAAuBd,QAAQ,CAAC,EAAD,CAAnC;AACA,MAAI,CAACe,SAAD,EAAYC,WAAZ,IAA2BhB,QAAQ,CAAC,EAAD,CAAvC;AACA,MAAI,CAACiB,IAAD,EAAOC,OAAP,IAAkBlB,QAAQ,CAAC,EAAD,CAA9B;AACA,MAAI,CAACmB,MAAD,EAASC,SAAT,IAAsBpB,QAAQ,CAAC,EAAD,CAAlC;AACA,MAAI,CAACqB,KAAD,EAAQC,QAAR,IAAoBtB,QAAQ,CAAC,CAACQ,KAAK,CAACa,KAAP,CAAD,CAAhC;AAEA,MAAI,CAACE,OAAD,EAAUC,SAAV,IAAuBxB,QAAQ,CAAC,EAAD,CAAnC;AACA,MAAI,CAACyB,UAAD,EAAaC,YAAb,IAA6B1B,QAAQ,CAAC,EAAD,CAAzC,CAVyC,CAYzC;AACA;AACA;;AACA,MAAI2B,QAAQ,GAAGrB,WAAW,EAA1B;AACAsB,EAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,QAAT,CAAkBC,KAAlB,CAAwB,GAAxB,EAA6B,CAA7B,CAAZ;AACApB,EAAAA,aAAa,GAAGgB,QAAQ,CAACG,QAAT,CAAkBC,KAAlB,CAAwB,GAAxB,EAA6B,CAA7B,CAAhB;AACAtB,EAAAA,OAAO,GAAGE,aAAa,CAACoB,KAAd,CAAoB,GAApB,EAAyB,CAAzB,CAAV,CAlByC,CAmBzC;;AAEA,QAAMC,QAAQ,GAAG,YAAY;AAC3B,QAAI;AACF,YAAMC,IAAI,GAAG,MAAMC,KAAK,CAAE,oCAAmCvB,aAAc,EAAnD,CAAxB,CADE,CAEF;;AACA,YAAMwB,QAAQ,GAAG,MAAMF,IAAI,CAACG,IAAL,EAAvB;AAEAtB,MAAAA,OAAO,CAACqB,QAAD,CAAP;AAEAP,MAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBI,IAAxB;AACAL,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBhB,SAAtB;AACD,KATD,CASE,OAAOwB,GAAP,EAAY;AACZT,MAAAA,OAAO,CAACU,KAAR,CAAcD,GAAG,CAACE,OAAlB;AACD;AACF,GAbD,CArByC,CAoCzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEAxC,EAAAA,SAAS,CAAC,MAAM;AACd6B,IAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;AACAG,IAAAA,QAAQ;AACT,GAHQ,EAGN,EAHM,CAAT;AAOA,sBAAQ,qCAAR,CACE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AArIF;AAuID;;GAlMuBzB,W;UAePD,W;;;KAfOC,W","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport AddCart from \"./AddCart\";\r\nimport AddQty from \"./AddQty\";\r\nimport Banner from \"./Banner\";\r\nimport SelectSize from \"./SelectSize\";\r\nimport SelectColor from \"./SelectColor\";\r\nimport { useLocation } from \"react-router\";\r\n\r\nexport default function ViewProduct(props) {\r\n  let [prod_id, setProdId] = useState([props.prod_id]);\r\n  let [prod_color_id, setProdColorId] = useState([props.prod_color_id]);\r\n  let [prod_list, setList] = useState([]);\r\n  let [prod_name, setProdName] = useState([]);\r\n  let [size, setSize] = useState([]);\r\n  let [amount, setAmount] = useState([]);\r\n  let [color, setColor] = useState([props.color]);\r\n\r\n  let [cust_id, setCustId] = useState([]);\r\n  let [prod_price, setProdPrice] = useState([]);\r\n\r\n  // use location hook to get the prod_id\r\n  // ex: \"/viewproduct/P001-Bl\"\r\n  // ex: \"/viewproduct/P001-Black\"\r\n  let location = useLocation();\r\n  console.log(location.pathname.split(\"/\")[2]);\r\n  prod_color_id = location.pathname.split(\"/\")[2];\r\n  prod_id = prod_color_id.split(\"-\")[1];\r\n  // color = prod_color_id.split(\"-\")[2]; //\"BL\"\r\n\r\n  const loadList = async () => {\r\n    try {\r\n      const resp = await fetch(`http://localhost:5000/getProduct/${prod_color_id}`);\r\n      // const resp = await fetch(`http://localhost:5000/getProduct/P001`);\r\n      const jsonData = await resp.json();\r\n\r\n      setList(jsonData);\r\n\r\n      console.log(\"Response\", resp);\r\n      console.log(\"List: \", prod_list);\r\n    } catch (err) {\r\n      console.error(err.message);\r\n    }\r\n  };\r\n\r\n  // const insertCart = async (e) => {\r\n  //   e.preventDefault();\r\n  //   try {\r\n  //     console.log(prod_id, color, size, amount);\r\n  //     const bodyStr = { prod_id, color, size, amount };\r\n  //     const resp = await fetch(\"http://localhost:4000/insertCart\", {\r\n  //       method: \"POST\",\r\n  //       headers: { \"content-type\": \"application/json\" },\r\n  //       body: JSON.stringify(bodyStr),\r\n  //     });\r\n  //     window.location = \"/cart\";\r\n  //   } catch (err) {\r\n  //     console.error(err.message);\r\n  //   }\r\n  // };\r\n\r\n  useEffect(() => {\r\n    console.log(\"Enter useEffect\");\r\n    loadList();\r\n  }, []);\r\n\r\n  \r\n\r\n  return (<></>\r\n    // <div className=\"container\">\r\n    //   {/* Featured Product start */}\r\n    //   <section className=\"single-product\">\r\n    //     <div className=\"container\">\r\n    //       {/* <form onSubmit={insertCart}> */}\r\n    //       <form>\r\n    //         {prod_list.map((prod) => {\r\n    //           // const prodLink = \"/viewproduct/\" + prod.prod_color_id;\r\n    //           // console.log(prodLink);\r\n    //           // setProdId(prod.prod_id); ERROR\r\n    //           return (\r\n    //             <>\r\n    //               <div className=\"row\">\r\n    //                 {/* image of shirt section */}\r\n    //                 <div className=\"col-sm-4\">\r\n    //                   <div className=\"product-item\">\r\n    //                     <figure className=\"product-thumb\">\r\n    //                       <img src={prod.image_url} alt=\"image shirt\" width=\"100%\" height=\"100%\"/>\r\n    //                       {/* <img src={prod.image_url} /> */}\r\n    //                     </figure>\r\n    //                     <div className=\"product-content\">\r\n    //                       <div className=\"ratings\">\r\n    //                         <a href=\"#\">\r\n    //                           <i className=\"ti-star\" />\r\n    //                         </a>\r\n    //                         <a href=\"#\">\r\n    //                           <i className=\"ti-star\" />\r\n    //                         </a>\r\n    //                         <a href=\"#\">\r\n    //                           <i className=\"ti-star\" />\r\n    //                         </a>\r\n    //                         <a href=\"#\">\r\n    //                           <i className=\"ti-star\" />\r\n    //                         </a>\r\n    //                         <a href=\"#\">\r\n    //                           <i className=\"ti-star\" />\r\n    //                         </a>\r\n    //                       </div>\r\n    //                       {/* <p className=\"price text-danger\">฿{prod.prod_price}</p> */}\r\n    //                     </div>\r\n    //                   </div>\r\n    //                 </div>\r\n\r\n    //                 {/* Detail section */}\r\n    //                 <div className=\"col-sm-6 text-left ml-5\">\r\n    //                   <div className=\"\">\r\n    //                     <h1 className=\"\">{prod.prod_name}</h1>\r\n    //                   </div>\r\n    //                   <div className=\"\">\r\n    //                     <h5 className=\"prod_id\">Product ID: {prod.prod_id}</h5>\r\n    //                     {/* <h5 className=\"color\">Color: {prod.color}</h5> */}\r\n\r\n    //                     <div\r\n    //                       className=\"form-group quantity\"\r\n    //                       onChange={(e) => {\r\n    //                         setColor(e.target.value);\r\n    //                       }}\r\n    //                     >\r\n    //                       <label\r\n    //                         className=\"font-weight-bold h5 mr-3\"\r\n    //                         htmlFor=\"price\"\r\n    //                       >\r\n    //                         Color:\r\n    //                       </label>\r\n    //                       <SelectColor prod_id={prod.prod_id} color={color} />\r\n    //                       {/* <SelectSize /> */}\r\n    //                     </div>\r\n    //                     {/* <h5 className=\"size\">\r\n    //                       Size: <SelectSize onChange={(e) => {\r\n    //                           setSize(e.target.value);\r\n    //                         }}/>\r\n    //                     </h5> */}\r\n    //                     <div\r\n    //                       className=\"form-group quantity\"\r\n    //                       onChange={(e) => {\r\n    //                         setSize(e.target.value);\r\n    //                       }}\r\n    //                     >\r\n    //                       <label\r\n    //                         className=\"font-weight-bold h5 mr-3\"\r\n    //                         htmlFor=\"price\"\r\n    //                       >\r\n    //                         Size:\r\n    //                       </label>\r\n    //                       <SelectSize prod_id={prod.prod_id} color={color} prod_color_id={prod.prod_color_id} />\r\n    //                       {/* <SelectSize /> */}\r\n    //                     </div>\r\n    //                     {/* <h5 className=\"quantity\">\r\n    //                       QTY: <AddQty />\r\n    //                     </h5> */}\r\n    //                     <div className=\"form-group quantity\">\r\n    //                       <label\r\n    //                         className=\"font-weight-bold h5\"\r\n    //                         htmlFor=\"price\"\r\n    //                       >\r\n    //                         Quantity:\r\n    //                       </label>\r\n    //                       {/* <h5 className=\"quantity d-inline\">Quantity</h5> */}\r\n\r\n    //                       <input\r\n    //                         type=\"number\"\r\n    //                         className=\"form-control d-inline\"\r\n    //                         placeholder=\"Quantity\"\r\n    //                         id=\"qty\"\r\n    //                         onChange={(e) => {\r\n    //                           setAmount(e.target.value);\r\n    //                         }}\r\n    //                       />\r\n    //                     </div>\r\n    //                     <h2 className=\"price text-danger\">\r\n    //                       ฿{prod.prod_price}\r\n    //                     </h2>\r\n    //                   </div>\r\n    //                   {/* <button href=\"#\" className=\"btn btn-success text-center\">\r\n    //                     Add to cart\r\n    //                   </button> */}\r\n    //                   <AddCart\r\n    //                     prod_id={prod.prod_id}\r\n    //                     color={color}\r\n    //                     size={size}\r\n    //                     sale_amount={amount}\r\n    //                     prod_price={prod.prod_price}\r\n    //                   />\r\n    //                 </div>\r\n    //               </div>\r\n    //             </>\r\n    //           );\r\n    //         })}\r\n    //       </form>\r\n    //     </div>\r\n    //   </section>\r\n    //   {/* Featured Product end */}\r\n    // </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}