{"ast":null,"code":"var _jsxFileName = \"D:\\\\year3-1\\\\DBMS\\\\APP G4\\\\nodeApp\\\\buu_t_shirt\\\\client2\\\\src\\\\components\\\\Customer.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport EditCustomer from \"./EditCustomer\";\nimport Form from \"react-bootstrap/Form\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Customer() {\n  _s();\n\n  const [list, setList] = useState([]);\n  const [cust_id, setID] = useState([]);\n  const [cust_name, setName] = useState([\"\"]);\n  const [cust_list, setCustlist] = useState([]);\n\n  const deleteItem = async cust_id => {\n    try {\n      const del = await fetch(`http://localhost:5000/deleteCustomer/${cust_id}`, {\n        method: \"DELETE\"\n      });\n      setList(list.filter(elt => {\n        return elt.cust_id !== cust_id;\n      }));\n    } catch (err) {\n      console.error(err.message);\n    }\n  };\n\n  const loadList = async () => {\n    try {\n      const resp = await fetch(`http://localhost:5000/getCustomer/${cust_name}`);\n      const jsonData = await resp.json();\n      setList(jsonData);\n      console.log(\"Resp\", resp);\n      console.log(\"List:\", list);\n    } catch (err) {\n      console.error(err.message);\n    }\n  };\n\n  useEffect(() => {\n    console.log(\"Enter useEffect()\");\n    loadList();\n  }, [cust_name]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"CUSTOMER\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n      className: \"btn mt-5\",\n      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n        children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n          class: \"form-control mr-sm-2\",\n          type: \"search\",\n          placeholder: \"Search\",\n          onChange: e => {\n            setName(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this), cust_list.map(item => {\n          return /*#__PURE__*/_jsxDEV(\"p\", {\n            children: item.cust_id\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 20\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/insertCustomer\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-success ml-5 \",\n            children: \"\\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"table table-striped mt-5\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Profile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Cust Id\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Cust Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Cust Lname\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Phone Num\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Edit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Del\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: list.map(elt => {\n          return /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                className: \"  mx-auto d-block  rounded-circle\",\n                style: {\n                  width: \"50px\",\n                  height: \"50px\"\n                },\n                src: elt.profile_img\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: elt.cust_id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: elt.cust_name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: elt.cust_lname\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: elt.phone_num\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: elt.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(EditCustomer, {\n                cust_id: elt.cust_id,\n                cust_name: elt.cust_name,\n                cust_lname: elt.cust_lname,\n                phone_num: elt.phone_num,\n                credit_card: elt.credit_card\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-danger\",\n                onClick: () => deleteItem(elt.cust_id),\n                children: \"Del\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Customer, \"+JoMIY2r+y93fMZ0+2vy/+Sb5aA=\");\n\n_c = Customer;\n\nvar _c;\n\n$RefreshReg$(_c, \"Customer\");","map":{"version":3,"sources":["D:/year3-1/DBMS/APP G4/nodeApp/buu_t_shirt/client2/src/components/Customer.js"],"names":["React","useState","useEffect","EditCustomer","Form","Customer","list","setList","cust_id","setID","cust_name","setName","cust_list","setCustlist","deleteItem","del","fetch","method","filter","elt","err","console","error","message","loadList","resp","jsonData","json","log","e","target","value","map","item","width","height","profile_img","cust_lname","phone_num","email","credit_card"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport EditCustomer from \"./EditCustomer\";\r\nimport Form from \"react-bootstrap/Form\";\r\n\r\nexport default function Customer() {\r\n  const [list, setList] = useState([]);\r\n  const [cust_id, setID] = useState([]);\r\n  const [cust_name, setName] = useState([\"\"]);\r\n  const [cust_list, setCustlist] = useState([]);\r\n\r\n  const deleteItem = async (cust_id) => {\r\n    try {\r\n      const del = await fetch(\r\n        `http://localhost:5000/deleteCustomer/${cust_id}`,\r\n        {\r\n          method: \"DELETE\",\r\n        }\r\n      );\r\n      setList(\r\n        list.filter((elt) => {\r\n          return elt.cust_id !== cust_id;\r\n        })\r\n      );\r\n    } catch (err) {\r\n      console.error(err.message);\r\n    }\r\n  };\r\n  const loadList = async () => {\r\n    try {\r\n      const resp = await fetch(\r\n        `http://localhost:5000/getCustomer/${cust_name}`\r\n      );\r\n      const jsonData = await resp.json();\r\n\r\n      setList(jsonData);\r\n\r\n      console.log(\"Resp\", resp);\r\n      console.log(\"List:\", list);\r\n    } catch (err) {\r\n      console.error(err.message);\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    console.log(\"Enter useEffect()\");\r\n    loadList();\r\n  }, [cust_name]);\r\n  return (\r\n    <div className=\"container\">\r\n      <h3>CUSTOMER</h3>\r\n      <tr className=\"btn mt-5\">\r\n        <td>\r\n          <Form.Control\r\n            class=\"form-control mr-sm-2\"\r\n            type=\"search\"\r\n            placeholder=\"Search\"\r\n            onChange={(e) => {\r\n              setName(e.target.value);\r\n            }}\r\n          />\r\n          {cust_list.map((item) => {\r\n            return <p>{item.cust_id}</p>;\r\n          })}\r\n        </td>\r\n        <td>\r\n          <a href=\"/insertCustomer\">\r\n            <button className=\"btn btn-success ml-5 \">เพิ่มข้อมูล</button>\r\n          </a>\r\n        </td>\r\n      </tr>\r\n      <table className=\"table table-striped mt-5\">\r\n        <thead>\r\n          <tr>\r\n          <th>Profile</th>\r\n            <th>Cust Id</th>\r\n            <th>Cust Name</th>\r\n            <th>Cust Lname</th>\r\n            <th>Phone Num</th>\r\n            <th>Email</th>\r\n            \r\n            <th>Edit</th>\r\n            <th>Del</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {list.map((elt) => {\r\n            return (\r\n              <tr>\r\n                <td><img className=\"  mx-auto d-block  rounded-circle\"  style={{width: \"50px\", height:\"50px\" }} src={elt.profile_img}/></td>\r\n                <td>{elt.cust_id}</td>\r\n                <td>{elt.cust_name}</td>\r\n                <td>{elt.cust_lname}</td>\r\n                <td>{elt.phone_num}</td>\r\n                <td>{elt.email}</td>\r\n                \r\n                <td>\r\n                  <EditCustomer\r\n                    cust_id={elt.cust_id}\r\n                    cust_name={elt.cust_name}\r\n                    cust_lname={elt.cust_lname}\r\n                    phone_num={elt.phone_num}\r\n                    credit_card={elt.credit_card}\r\n                  />\r\n                </td>\r\n                <td>\r\n                  <button\r\n                    className=\"btn btn-danger\"\r\n                    onClick={() => deleteItem(elt.cust_id)}\r\n                  >\r\n                    Del\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            );\r\n          })}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}